@use "../../../helpers" as *;

@mixin hstack($variants...) {
	@include variants($variants...) using ($v) {
		// Implements the hidden API.
		@if $v == core {
			.hstack {
				--dm-unhidden: flex;
				> * {
					--dm-unhidden: initial;
				}
			}
		}

		#{variant("hstack", $v)} {
			display: flex;
			flex-direction: row;
			justify-content: center;
			align-items: center;
		}
		// NOTE: Do not reset per responsive stack context.
		@if $v == core {
			.hstack > * {
				--dm-space: 0;
			}
		}
		#{variant("hstack > * + *", $v)} {
			margin-top: 0;
			margin-left: var(--dm-space);
		}
		#{variant("hstack > .spacer:empty", $v)},
		#{variant("hstack > .spacer:empty + *", $v)} {
			margin-left: 0;
		}
	}
}
