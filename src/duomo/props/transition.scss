@use "../helpers" as *;
@use "../theme" as *;

@mixin transition($default-duration, $default-timing-function) {
	$amp: get-ampersand();

	#{$theme-aware-selector} #{$amp}transition {
		--transition-duration: #{$default-duration};
		--transition-timing-function: #{$default-timing-function};
		transition: var(--transition-duration) var(--transition-timing-function);
		transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
	}
}

@mixin transition-duration-from-range($range) {
	$amp: get-ampersand();

	// NOTE: Do not use a generator because of `$theme-aware-selector`.
	@each $v in $range {
		#{$theme-aware-selector} #{$amp}duration-#{escape($v)} {
			--transition-duration: #{$v};
		}
	}
}

@mixin transition-timing-function-from-map($map) {
	$amp: get-ampersand();

	// NOTE: Do not use a generator because of `$theme-aware-selector`.
	@each $k, $v in $map {
		// COMPAT
		@if $k == "linear" {
			$k: "ease-" + $k;
		}
		#{$theme-aware-selector} #{$amp}#{$k} {
			--transition-timing-function: #{$v};
		}
	}
}
